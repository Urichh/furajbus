<div id="bg" class="flex flex-col items-center justify-center min-h-screen px-6">
    <!-- ce exandable sectione zaprem patl gre content out of bounds (cez topbar) - fix pls -->
    <img src="../../karte_default.png" id="banner" alt="logo?" class="w-1/3 md:w-1/5 lg:w-1/6 xl:w-1/8 h-auto mx-auto" />

    <h1 class="text-4xl font-bold mb-4">Pivska igra avtobus (piramida)</h1>
    <p class="text-lg max-w-lg">
        Avtobus (občasno znan tudi kot piramida) je popularna pivska igra, kjer igralci odkrivajo karte piramide in ostalim igralcem dodeljujejo požirke pijače glede
        na različne faktorje.<br /><br /> Cilj te spletne strani je standardizacija in specifikacija pravil igre, saj se le-ta lahko bistveno razlikujejo od vasi do vasi.
        To stran lahko uporabite kot referenčna pravila v primeru nesporazuma o specifikah, ali kot navodila igre. 
    </p>
    <!-- zamejnej "delitelj" za "busmaster" -->
    <div class="mt-8 space-y-6 max-w-lg">
        <app-collapsible-section [title]="'Predpostavke'">
            <p>
                Ker se pravila igre pogosto razlikujejo od igralca do igralca, bomo v tej strani uvedli nekaj (morda kontroverznih) predpostavk, katere bomo upoštevali v preostanku strani.
                Če se z določenimi predpostavkami ne strinjate, jih lahko poljubno zamenjate, vendar v tem primeru ta stran ne more več služiti kot natančna reprezentacija igre.
            </p>

            <p style="margin: 20px 0px 5px 0px"><b>Predpostavke:</b></p>

            <ul>
                <li>As je <b>najvišja</b>(!) karta</li>
                <li>Pijača mora vsebovati najmanj 3.7% alkohola (pivo), da je primerna za igro</li>
                <li>V standardni 0.5L pločevinki piva je za cca. 20 požirkov</li>
                <li>Nadaljne karte lahko igralci mečejo na mizo dokler se eden on določenih pivcev z pločevinko/kozarcem ne takne ustnic - do tega pridemo pozneje</li>
            </ul>
        </app-collapsible-section>  

        <app-collapsible-section [title]="'Priprava igre'">
            <p>
                Na začetku se poljubno število igralcev posede za mizo. Eden od igralcev postavi trikotnik (piramido) iz premešanega kupčka navadnih igralnih kart, katere so obrnjene z hrbtno stranjo navzgor, kot prikazuje spodnja slika:
            </p>
            <img src="../../karte_backside_full.png" alt="zakrite karte" class="w-1/3 md:w-1/5 lg:w-1/6 xl:w-1/8 h-auto mx-auto" /> <!-- fix scaling-->
            <p>
                V navodilih predpostavljamo, da bo piramida visoka 5 kart, vendar je višina poljubna. V primeru večjega števila igralcev, je višino piramide smiselno povečati.
            </p>
            <p>
                Po postavljeni piramidi delitelj nato razdeli karte tudi med igralce. Število kart, ki jih dobi vsak igralec je enako višini piramide (pri standardni piramidi višine 5 torej vsi igralci dobijo 5 kart)
            </p>
            <app-collapsible-subsection [title]="'Zanimivost'">
                <p class="extra">
                    Število kart na vsakem nivoju je lahko definiramo z: <code class="inline-code" style="padding: 3px">n<sub>i</sub>=h-i+1</code>,
                    število vseh kart: <code class="inline-code" style="padding: 3px">2<sup>h</sup>-1</code> in višina piramide: 
                    <code class="inline-code" style="padding: 3px">log<sub>2</sub>(n+1)+1=h</code>, kjer je n = št. kart, i = nivo (oz. "nadstropje") piramide in h = višina piramide. 
                </p>
            </app-collapsible-subsection>
        </app-collapsible-section> 

        <app-collapsible-section [title]="'Začetek igre'">
            <p>Ko je piramida enkrat postavljena in so karte razdeljene med igralce, se igra lahko prične. Delitelj kart začne postopoma odkrivati karte piramide od najnižjega nivoja naprej, od leve proti desni. Vizualizacija:</p>
            <img src="../../karte_backside_most.png" alt="odprta prva karta" class="w-1/3 md:w-1/5 lg:w-1/6 xl:w-1/8 h-auto mx-auto" />
            <p>
                Ko delitelj odpre karto, začne odštevati od 5. Igralci lahko ustrezne karte na mizo odlagajo dokler delitelj ne odšteje do 0.
            </p>
            <h2>Katere karte so ustrezne?</h2>
            <p>Pri tej igri je relevantna le številka karte. Npr: če je odkrita križeva 2 (kot na sliki), lahko nanjo položimo katerokoli karto s številko 2, ne glede na barvo/simbol. <b>POZOR:</b> Edina izjema je joker, katerega lahko položimo na katerokoli karto, vendar ga je zato smiselno varčevati za bližje koncu igre, iz razlogov do katerih še pridemo</p>
            <p>
                Če ni bilo odložene nobene karte, ko delitelj prešteje do 0, enostavno nadaljujemo z naslednjo karto. V primeru, da so bile karte odložene pa igralec, ki je <b>ZADNJI</b> odložil karto razdeli požirke med preostale igralce, po pravilih katere bomo razložili v naslednjem poglavju.
                <b>POMEMBNO:</b> Ko prvi igralec položi karto, lahko delitelj preneha odštevati. Od te točke naprej lahko preostali igralci še vedno polagajo karte na kup, dokler se eden od igralcev, kateremu je bilo dodeljeno pitje, ne takne ustnic z pločevinko/kozarcem (tudi če je preminulo že >5 sekund).
                V naslednjih primerih:
            </p>

            <ul>
                <li>Igralčeva karta se dotakne mize, ko je delitelj že odštel do 0</li>
                <li>Igralec položi karto, ko je igralec, kateremu so bili dodeljeni požirkim že naredil požirek</li>
                <li>Igralec položi neustrezno karto</li>
            </ul>

            <p>Pa mora igralec, ki je storil napako, za kazen spiti vse požirke, katerih so preostali igralci oproščeni.</p>

            <app-collapsible-subsection [title]="'Primer za lažjo predstavo'">
                <p>
                    Predpostavimo, da imamo <code class="inline-code" style="padding: 3px">4</code> igralce: <code class="inline-code" style="padding: 3px">A</code>, <code class="inline-code" style="padding: 3px">B</code>, <code class="inline-code" style="padding: 3px">C</code> in <code class="inline-code" style="padding: 3px">D</code>.
                    Delitelj (A) najprej odpre prvo karto, in začne odštevati od 5.
                    <img src="../../karte_backside_most.png" alt="odprta prva karta" class="w-1/3 md:w-1/5 lg:w-1/6 xl:w-1/8 h-auto mx-auto" />
                    Igralec B nato odloži srčevo 2, zaradi česar delitelj preneha z odštevanjem. 
                    <img src="../../karte_first.png" alt="odprta prva karta" class="w-1/3 md:w-1/5 lg:w-1/6 xl:w-1/8 h-auto mx-auto" />
                    Ker je igralec B odložil zadnjo (in edino) karto, lahko dodeli 1 požirek enemu od igralcev (razloženo v LINK). Recimo, da igralec B požirek dodeli igralcu C. <!-- dadej link da tega chapterja -->
                    Igralec C vzdigne kozarec, da bi naredil požirek, vendar preden se z kozarcem takne ustnic, igralec D odloži novo karto: pikovo 2.
                    <img src="../../karte_second.png" alt="položena druga karta" class="w-1/3 md:w-1/5 lg:w-1/6 xl:w-1/8 h-auto mx-auto" />
                    Kljub temu, da je pred kratkim igralec B naročil požirek igralcu C, se ta ukaz nemudoma prekine, in igralcu C ni treba narediti požirka (razen če mu ga igralec D ponovno dodeli). Sedaj ima igralec D (ki je odložil zadnjo karto), na voljo 2 požirka za dodelitev.
                    Odloči se dodelitvi enega požirka igralcu B, in enega igralcu A (lahko bi tudi oba dodelil le enemu igralcu). Ko se katerikoli od izbranih igralcev z pločevinko/kozarcem dotakne ustnic, nihče ne more več dodajati kart na trenutno karto. Trenutna "runda" je zaključena.
                </p>

            </app-collapsible-subsection>
        </app-collapsible-section>

        <app-collapsible-section [title]="'Računanje požirkov'">
            <p>
                Število požirkov, ki jih ima za dodeljevanje na voljo igralec, ki je zadnji položil karto, je odvisna od števila kart ter trenutnim nivojem piramide.
                Formula za izračun: <code class="inline-code" style="padding: 3px">p=k*i</code>, kjer je p = števio požirkov, k = številu kart na kupu (brez originalne) ter i = trenutni nivo piramide.
                Edina izjema je, zadnji nivo, kjer je faktor množenja = <code class="inline-code" style="padding: 3px">2*h</code>, kjer je h = višina piramide! Npr. pri standardni igri, z piramido višine 5, je ta faktor 10.
             </p>
            <app-collapsible-subsection [title]="'Primer'">
                <img src="../../karte_3.png" alt="primer izračuna požirkov" class="w-1/3 md:w-1/5 lg:w-1/6 xl:w-1/8 h-auto mx-auto" />
                <img src="../../karte_4.png" alt="primer izračuna požirkov" class="w-1/3 md:w-1/5 lg:w-1/6 xl:w-1/8 h-auto mx-auto" />
                <img src="../../karte_5.png" alt="primer izračuna požirkov" class="w-1/3 md:w-1/5 lg:w-1/6 xl:w-1/8 h-auto mx-auto" />
            </app-collapsible-subsection>
            <p>
                Igralec, kateremu je bilo dodeljeno število požirkov, ki je večje od 10, se lahko odloči, da skupine po 10 požirkov zamenja za shote 0.03L žgane pijače (40% alk.). Npr. 20 požirkov lahko zamenja za 2 shota.
            </p>
        </app-collapsible-section>

        <app-collapsible-section [title]="'Zaključek igre'">
            <p>
                Ko delitelj odkrije zadnjo karto v vrhu piramide, in so požirki med igralce dokončno porazdeljeni, je naslednji korak določitev igralca, ki gre na "avtobus". Igralec, ki gre na avtobus je tisti, ki ima na koncu igre največ kart. V primeru,
                da na tak način igralca ni mogoče določiti, saj ima več igralcev isto število kart, mora delitelj premešati kupček kart, in vsak od igralcev z največjim številom kart naključno vleče karto, brez da bi jo pogledal. Igralec, ki povleče <b>najnižjo</b> karto,
                nato nadaljuje naprej na avtobus. V primeru, da več igralcev povleče isto najnižjo karto, ponovno premešajte kupček in tej igralci ponovno vlečejo karto. Proces ponavljajte, dokler le eden od igralcev nima unikatne najnižje karte.
            </p>
        </app-collapsible-section>

        <app-collapsible-section [title]="'Avtobus'">
           <p>Ko je določen igralec, ki gre na avtobus, busmaster ponovno zmeša kupček kart, in jih <code class="inline-code" style="padding: 3px">5</code> odkritih postavi v horizontalno vrsto, kot prikazuje spodnja slika.</p>
           <img src="../../bus_init.png" alt="začetna postavitev avtobusa" class="w-1/3 md:w-1/5 lg:w-1/6 xl:w-1/8 h-auto mx-auto" />
           <p>
                Igralec začne na skrajno levi karti, in se premika proti desni. Pri vsaki karti busmaster igralca vpraša, če meni da bo karta, katero bo na slepo vlekel iz vrha kupa, višja ali nižja od trenutne karte.
                Če igralec ugane pravilno, nadaljuje naprej na naslednjo karto, kjer ponovno ugiba. Če pa se igralec zmoti, pa ponovno začne na prvi karti na skrajno levi, in spije število požirkov, 
                ki je enako "globini" avtobusa (v prvi rundi, ko je na mizi 5 kart, je to globina 1) zmnoženi s zaporednim številom kart, na katerim se je zmotil (praktični primer v LINK). Če se igralec vrne na začetek se od tam naprej upošteva 
                zadnja karta na vrhu "kupa", in ne ponovno originalna karta. V primeru, da je izvlečena karta istega števila kot karta pod njo, se lahko igralec ponovno odloči za višje/nižje, medtem ko busmaster povleče naslednjo karto.
                Tako kot pri prejšnji fazi igre, tukaj velja, da je <code class="inline-code" style="padding: 3px">2</code> najnižja karta, <code class="inline-code" style="padding: 3px">joker</code> pa najvišja.
           </p>
           <p>
                Ko igralec uspešno prispe do konca vrste in pravilno ugane peto karto, busmaster ponovno postavi avtobus, le da tokrat z eno kart manj. Ta proces ponavljajte, dokler na mizi ni le ena karta, in jo igralec pravilno ugane.
                Tako kot pri piramidi, je tudi na avtobusu število požirkov odvisno od globine avtobusa:
           </p>
           <ul>
                <li>1. nivo (5 kart) - faktor x1</li>
                <li>2. nivo (4 karte) - faktor x2</li>
                <li>...</li>
           </ul>
            <p>Tako kot pri piramidi višine 5, je tudi na avtobusu faktor množitve pri zadnji globini (kjer je 5. nivo oz. 1 karta) enak x10. Igralec lahko tudi na avtobusu skupine po 10 požirkov zamenja za shot</p>

           <app-collapsible-subsection [title]="'Primer'">
                <p>Busmaster najprej postavi avtobus z <code class="inline-code" style="padding: 3px">5</code> kartami in igralec začne na skrajno levi karti (označeno z puščico).</p>
                <img src="../../bus_init.png" alt="začetna postavitev avtobusa" class="w-1/3 md:w-1/5 lg:w-1/6 xl:w-1/8 h-auto mx-auto" />
                <p>
                    Igralec na prvi karti (as) reče, da bo karta, ki jo bo izvelekel busmaster nižja od trenutne karte. Izkaže se, da je bila karta "junc", zato nadaljuje na naslednjo karto, kjer igralec predvideva, da bo višja.
                    Izvlečena karta je 9, in ker je višja od 2, prav tako nadaljuje na naslednjo karto. Pri naslednji karti igralec ponovno pravilno ugane višje, in nadaljuje na kraljico. Na kraljici igralec ugane nižje, vendar je karta kralj.
                    Posledično, se igralec vrne nazaj na prvo karto in spije 4 požirke.
                </p>
                <img src="../../bus_zajeb_1.png" alt="napaka1" class="w-1/3 md:w-1/5 lg:w-1/6 xl:w-1/8 h-auto mx-auto" />
                <p>
                    Ko se igralec vrne na prvo karto, se za primerjave začne uporabljati karto na vrhu. Igralec ugane nižje, in ker je 4 nižje od junca, nadaljuje na naslednjo karto. Igralec ugane nižje, vendar ker je 10 višja op 9, igralec spije 2 
                    požirka in se vrne na prvo karto.
                </p>
                <img src="../../bus_zajeb_2.png" alt="napak2" class="w-1/3 md:w-1/5 lg:w-1/6 xl:w-1/8 h-auto mx-auto" />
                <p>
                    Igralec pri prvi karti (4) ugane višje, uspešno se premakne na naslednjo karto. Od tam naprej pravilno predvideva vse karte, vključno z zadnjo (kralj višji od 5).
                </p>
                <img src="../../bus_zmaga.png" alt="zmaga" class="w-1/3 md:w-1/5 lg:w-1/6 xl:w-1/8 h-auto mx-auto" />
                <p>
                    Busmaster karte pospravi, in pripravi naslednji krog, kjer so le 4 karte, vendar je faktor množitve sedaj <code class="inline-code" style="padding: 3px">x2</code>.
                </p>
                <img src="../../bus_whatever.png" alt="začetna postavitev avtobusa - runda 2" class="w-1/3 md:w-1/5 lg:w-1/6 xl:w-1/8 h-auto mx-auto" />
                <p>
                    Pri prvi karti igralec ugane višje, in ker je 5 višje od 2, se premakne na naslednjo karto. Igralec ponovno ugane višje, 10 je višje od 5, spet se premakne naprej. Pri kralju igralec ugane višje, vendar ker je izvlečen as, se igralec 
                    vrne na prvo karto (sedaj bo to 5), in spije 6 požirkov.
                </p>
                <img src="../../bus_whatever_2.png" alt="začetna postavitev avtobusa - runda 2" class="w-1/3 md:w-1/5 lg:w-1/6 xl:w-1/8 h-auto mx-auto" />
                <p>
                    Igra se tako nadaljuje naprej. V naslednjem krogu so postavljene le 3 karte, vendar je faktor množenja <code class="inline-code" style="padding: 3px">x3</code> itd. Tako kot pri piramidi, je tudi pri avtobusu na koncu, ko je v vrsti le ena karta,
                    faktor množenja <code class="inline-code" style="padding: 3px">x10</code>
                </p>
           </app-collapsible-subsection>

        </app-collapsible-section>

        <app-collapsible-section [title]="'Strategije & zanimivosti'">
            <p>V tem poglavju bomo za konec predstavili še nekaj zanimivosti in nasvetov za optimizacijo igre.</p>
        </app-collapsible-section>

    </div>
</div>